{% extends "mma/base.html" %}

{% block content %}
<h2>Pending Cashout Requests</h2>
{% if pending_requests %}
    <table>
        <tr>
            <th>ID</th> <!-- Add a new header for ID -->
            <th>Agent</th>
            <th>Amount</th>
            <th>Requested At</th>
            <th>Action</th>
        </tr>
        {% for request in pending_requests %}
        <tr>
            <td>{{ request.id }}</td> <!-- Display the ID -->
            <td>{{ request.agent.username }}</td>
            <td>{{ request.amount }}</td>
            <td>{{ request.created_at }}</td>
            <td>
                <form method="post">
                    {% csrf_token %}
                    <input type="hidden" name="cashout_id" value="{{ request.id }}">
                    <button type="submit" name="action" value="approve" aria-label="Approve">Approve</button>
<button type="submit" name="action" value="reject" aria-label="Reject">Reject</button>

                </form>
            </td>
        </tr>
        {% endfor %}
    </table>
{% else %}
    <p>No pending cashout requests.</p>
{% endif %}
{% endblock %}
